<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>suspicious account</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Tektur:wght@400;700;900&display=swap" rel="stylesheet">

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: 'Tektur', sans-serif;
    background: #000;
    color: black;
}

#instructions {
    position: absolute;
    top: 40px;
    width: 100%;
    text-align: center;
    font-size: 30px;
    z-index: 10;
}

#profile-container {
    position: relative;
    width: 100%;
    height: 100%;
}

#profile-img {
    width: 100%;
    height: 100%;
    object-fit: contain; 
    display: block;
}

.clickable {
    position: absolute;
    cursor: pointer;
    z-index: 5;
    transition: background 0.3s;
}

/* Feedback for clicked area */
.clickable.clicked {
    background: rgba(255, 0, 0, 0.3);
}
</style>
</head>
<body>

<div id="instructions">
    You take a look at Jamie's account.<br>
    Click on 2 suspicious parts of the profile.
</div>

<div id="profile-container">
    <img id="profile-img" src="profile.png" alt="Profile">

    <div id="part1" class="clickable" data-x="438" data-y="348" data-w="229" data-h="39"></div>
    <div id="part2" class="clickable" data-x="312" data-y="401" data-w="55" data-h="23"></div>
</div>

<script>
const img = document.getElementById('profile-img');
const parts = [document.getElementById('part1'), document.getElementById('part2')];

// Scale clickable areas to image
function resizeParts() {
    const imgWidth = img.naturalWidth;
    const imgHeight = img.naturalHeight;

    const displayWidth = img.clientWidth;
    const displayHeight = img.clientHeight;

    const scaleX = displayWidth / imgWidth;
    const scaleY = displayHeight / imgHeight;

    parts.forEach(part => {
        const x = parseFloat(part.dataset.x) * scaleX;
        const y = parseFloat(part.dataset.y) * scaleY;
        const w = parseFloat(part.dataset.w) * scaleX;
        const h = parseFloat(part.dataset.h) * scaleY;

        part.style.left = x + 'px';
        part.style.top = y + 'px';
        part.style.width = w + 'px';
        part.style.height = h + 'px';
    });
}

window.addEventListener('resize', resizeParts);
img.addEventListener('load', resizeParts);

// Track clicks
let clickedParts = { part1: false, part2: false };

function handleClick(partId) {
    if(clickedParts[partId]) return;
    clickedParts[partId] = true;

    document.getElementById(partId).classList.add('clicked');

    if(clickedParts.part1 && clickedParts.part2) {
        window.location.href = "page3.html"; // redirect when both clicked
    }
}

parts.forEach((part, i) => {
    part.addEventListener('click', () => handleClick('part' + (i+1)));
});
</script>

</body>
</html>
